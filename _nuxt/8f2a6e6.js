(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{201:function(t,e,n){"use strict";var r=n(0),o=n(293);r.a.use(o.a)},202:function(t,e,n){"use strict";var r=n(295),o=n.n(r);n(0).a.component("Draggable",o.a)},203:function(t,e,n){"use strict";n(443);var r=n(0),o=n(93);r.a.use(o.a),e.a=new o.a({icons:{iconfont:"fa"}})},204:function(t,e,n){"use strict";var r=n(6);n(38),n(3);e.a=function(t,e){t.$axios.interceptors.request.use(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$auth0.getTokenSilently();case 3:r=e.sent,n.headers={Authorization:"Bearer ".concat(r)},e.next=16;break;case 7:if(e.prev=7,e.t0=e.catch(0),"login_required"!==e.t0.error){e.next=15;break}return e.next=12,t.$auth0.loginWithRedirect();case 12:return e.abrupt("return",new Promise((function(t){})));case 15:throw e.t0;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),t.$axios.interceptors.response.use(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==n.status){e.next=4;break}return e.next=3,t.$auth0.loginWithRedirect();case 3:return e.abrupt("return",new Promise((function(t){})));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},205:function(t,e,n){"use strict";var r=n(296);e.a=function(t){var e=t.store;Object(r.a)({key:"4taku",storage:window.sessionStorage})(e)}},206:function(t,e,n){"use strict";var r=n(6),o=(n(38),n(297));e.a=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.app,t.next=3,Object(o.a)({domain:"dev-3gluojp2.us.auth0.com",client_id:"jeKC4wXFcPA04mo7GWMgVSVvlqb4E5kf",redirect_uri:"http://localhost:3000/4taku/auth/callback",audience:"https://4taku-api-local"});case 3:r=t.sent,n("auth0",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},207:function(t,e,n){"use strict";var r=n(6);n(38);e.a=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.dispatch("auth/confirmLoginStatus");case 2:if(!e.store.state.auth.isAuthenticated){t.next=6;break}return t.next=6,e.store.dispatch("account/getFromServer");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},271:function(t,e,n){var content=n(358);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("eb27f6ca",content,!0,{sourceMap:!1})},299:function(t,e,n){"use strict";var r=n(6),o=(n(38),n(11),n(3),{name:"DefaultLayout",data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-apps",title:"Welcome",to:"/",condition:"none"},{icon:"mdi-chart-bubble",title:"ヒーロー４択評価",to:"/heros",condition:"accountValid"},{icon:"mdi-chart-bubble",title:"Tier表作成（試作中）",to:"/tiertable/edit",condition:"accountValid"},{icon:"mdi-chart-bubble",title:"Tier表一覧",to:"/tiertable/list",condition:"accountValid"},{icon:"mdi-chart-bubble",title:"アカウント設定",to:"/account/profile",condition:"accountInvalid"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}},computed:{showitems:function(){var t=this;return this.items.filter((function(e){if("none"===e.condition)return!0;var n=t.$store.state.auth.isAuthenticated;return"accountValid"===e.condition?n&&t.$store.getters["account/isValid"]:"accountInvalid"===e.condition?n:void 0}))}},methods:{login:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("auth/login");case 2:case"end":return e.stop()}}),e)})))()},logout:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("auth/logout");case 2:t.$store.commit("account/clearAccounts");case 3:case"end":return e.stop()}}),e)})))()}}}),c=n(94),f=n(135),d=n.n(f),l=n(469),v=n(474),h=n(470),m=n(217),x=n(475),k=n(471),w=n(192),_=n(193),R=n(131),A=n(194),V=n(92),j=n(472),O=n(476),T=n(473),y=n(230),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{"mini-variant":t.miniVariant,clipped:t.clipped,fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"\n  drawer"}},[n("v-list",t._l(t.showitems,(function(e,i){return n("v-list-item",{key:i,attrs:{to:e.to,router:"",exact:""}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),1)],1),t._v(" "),n("v-app-bar",{attrs:{"clipped-left":t.clipped,fixed:"",app:"",src:"https://i3.gamebiz.jp/media/32ca2643-1845-42dd-a850-3f88e4ac5b2e.jpg"}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.miniVariant=!t.miniVariant}}},[n("v-icon",[t._v("mdi-"+t._s("chevron-"+(t.miniVariant?"right":"left")))])],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.clipped=!t.clipped}}},[n("v-icon",[t._v("mdi-application")])],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.fixed=!t.fixed}}},[n("v-icon",[t._v("mdi-minus")])],1),t._v(" "),n("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),this.$store.state.auth.isAuthenticated?t._e():n("v-btn",{on:{click:function(e){return t.login()}}},[t._v("ログインする")]),t._v(" "),this.$store.state.auth.isAuthenticated?n("v-btn",{on:{click:function(e){return t.logout()}}},[t._v("ログアウトする")]):t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.rightDrawer=!t.rightDrawer}}},[n("v-icon",[t._v("mdi-menu")])],1)],1),t._v(" "),n("v-main",[n("v-container",[n("Nuxt")],1)],1),t._v(" "),n("v-navigation-drawer",{attrs:{right:t.right,temporary:"",fixed:""},model:{value:t.rightDrawer,callback:function(e){t.rightDrawer=e},expression:"rightDrawer"}},[n("v-list",[n("v-list-item",{nativeOn:{click:function(e){t.right=!t.right}}},[n("v-list-item-action",[n("v-icon",{attrs:{light:""}},[t._v("\n            mdi-repeat\n          ")])],1),t._v(" "),n("v-list-item-title",[t._v("Switch drawer (click me)")])],1)],1)],1),t._v(" "),n("v-footer",{attrs:{absolute:!t.fixed,app:""}},[n("span",[t._v("© "+t._s((new Date).getFullYear()))])])],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VApp:l.a,VAppBar:v.a,VAppBarNavIcon:h.a,VBtn:m.a,VContainer:x.a,VFooter:k.a,VIcon:w.a,VList:_.a,VListItem:R.a,VListItemAction:A.a,VListItemContent:V.a,VListItemTitle:V.b,VMain:j.a,VNavigationDrawer:O.a,VSpacer:T.a,VToolbarTitle:y.a})},310:function(t,e,n){n(311),t.exports=n(312)},348:function(t,e,n){"use strict";n.r(e);n(65);e.default=function(t){var e=t.store,n=t.route,r=n.fullPath;r.startsWith("/login")||r.startsWith("/auth/")||e.commit("auth/setPath",n.fullPath)}},349:function(t,e,n){"use strict";n.r(e);var r=n(6);n(38),n(95),n(3);function o(){return(o=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(meta){var t=meta.find((function(t){if(t.auth&&t.auth.authority)return 1}));return t?t.auth.authority:2}(e.route.meta),e.store.state.auth.isAuthenticated){t.next=9;break}return t.next=6,e.$auth0.loginWithRedirect();case 6:return t.abrupt("return",new Promise((function(t){})));case 9:n>1&&(e.store.getters["account/isValid"]||e.redirect("/account/profile"));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.default=function(t){return o.apply(this,arguments)}},357:function(t,e,n){"use strict";n(271)},358:function(t,e,n){var r=n(22)(!1);r.push([t.i,"h1[data-v-b2edf2c6]{font-size:20px}",""]),t.exports=r},419:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return r}));var r=function(){return{auth:{}}}},420:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"getters",(function(){return f})),n.d(e,"mutations",(function(){return d})),n.d(e,"actions",(function(){return l}));var r=n(6),o=(n(38),n(32),n(96)),c=function(){return{account:{},loaded:!1}},f={isValid:function(t){return!!t.account.name&&""!==t.account.name},isTearTableSelected:function(t,e){return!!e.isValid&&!!t.account.tierTableId}},d={setAccount:function(t,e){t.loaded=!0,t.account=e},setName:function(t,e){t.account.name=e},setTearTable:function(t,e){t.account.tierTableId=e.tierTableId,t.account.tierTableName=e.tierTableName},clearAccounts:function(t,e){t.loaded=!1,t.account={}}},l={getFromServer:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.getters,r=t.commit,t.state.loaded){n.next=7;break}return c="".concat(o.a.getAPIServerURL(),"/accounts"),n.next=5,e.$axios({url:c,method:"GET"});case 5:f=n.sent,r("setAccount",f.data);case 7:case"end":return n.stop()}}),n)})))()},saveProfile:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c,f,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=t.state,f=t.commit,!c.loaded){r.next=9;break}return f("setName",e),d="".concat(o.a.getAPIServerURL(),"/accounts"),r.next=6,n.$axios({url:d,method:"POST",data:c.account});case 6:if(200===r.sent.status){r.next=9;break}throw new Error("update failed");case 9:case"end":return r.stop()}}),r)})))()},saveTiertable:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c,f,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=t.state,f=t.commit,!c.loaded){r.next=9;break}return f("setTearTable",e),d="".concat(o.a.getAPIServerURL(),"/accounts"),r.next=6,n.$axios({url:d,method:"POST",data:c.account});case 6:if(200===r.sent.status){r.next=9;break}throw new Error("update failed");case 9:case"end":return r.stop()}}),r)})))()}}},421:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return f}));var r=n(6),o=(n(38),function(){return{path:"",isAuthenticated:!1}}),c={setPath:function(t,path){t.path=path},setAuthenticated:function(t,e){t.isAuthenticated=e}},f={confirmLoginStatus:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.getters,r=t.commit,t.state,n.next=3,e.$auth0.isAuthenticated();case 3:o=n.sent,r("setAuthenticated",o);case 5:case"end":return n.stop()}}),n)})))()},login:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.getters,r=t.commit,t.state,n.next=3,e.$auth0.isAuthenticated();case 3:if(!n.sent){n.next=8;break}r("setAuthenticated",!0),n.next=10;break;case 8:return n.next=10,e.$auth0.loginWithRedirect({});case 10:case"end":return n.stop()}}),n)})))()},afterLogin:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.getters,r=t.commit,t.state,n.next=3,e.$auth0.handleRedirectCallback();case 3:return n.next=5,e.$auth0.isAuthenticated();case 5:o=n.sent,r("setAuthenticated",o);case 7:case"end":return n.stop()}}),n)})))()},logout:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.getters,r=t.commit,t.state,n.next=3,e.$auth0.logout({returnTo:"http://localhost:3000/"});case 3:r("setAuthenticated",!1);case 4:case"end":return n.stop()}}),n)})))()}}},422:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"getters",(function(){return f})),n.d(e,"mutations",(function(){return d})),n.d(e,"actions",(function(){return l}));var r=n(6),o=(n(38),n(95),n(3),n(96)),c=function(){return{loaded:!1,mappings:[]}},f={convertToHeroName:function(t){return function(e){return 0===t.mappings.length?null:t.mappings.find((function(t){return t.deckTrackerHeroName===e})).heroName}}},d={setMappings:function(t,e){t.mappings=e,t.loaded=!0}},l={getFromServer:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.getters,r=t.commit,t.state.loaded){n.next=7;break}return c="".concat(o.a.getAPIServerURL(),"/decktrackerheromapping"),n.next=5,e.$axios({url:c,method:"GET"});case 5:f=n.sent,r("setMappings",f.data);case 7:case"end":return n.stop()}}),n)})))()}}},458:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return f})),n.d(e,"getters",(function(){return d})),n.d(e,"mutations",(function(){return l})),n.d(e,"actions",(function(){return v}));var r=n(6);n(38),n(63),n(10);var o=new function(){return new Worker(n.p+"f52a809.worker.js")};function c(text){var t=JSON.parse(text),e=t.Available,n=t.HeroList;return{available:e,heros:Object.keys(n).map((function(t){return{name:n[t],displayName:t}}))}}var f=function(){return{lastModified:0,heros:[],bans:[]}},d={},l={setLastModified:function(t,e){t.lastModified=e},setDeckTrackerInfo:function(t,e){t.heros=e.heros,t.bans=e.available}},v={watchStart:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,f,d,l,v,text,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,f=t.commit,e.prev=1,e.next=4,window.showOpenFilePicker();case 4:return d=e.sent,e.next=7,d[0].getFile();case 7:return l=e.sent,v=l.lastModified,e.next=11,l.text();case 11:text=e.sent,h=c(text),f("setLastModified",v),f("setDeckTrackerInfo",h),o.onmessage=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("tick"!==e.data){t.next=13;break}return t.next=4,d[0].getFile();case 4:if(r=t.sent,!(n.lastModified<r.lastModified)){t.next=13;break}return t.next=8,r.text();case 8:o=t.sent,l=c(o),f("setLastModified",r.lastModified),f("setDeckTrackerInfo",l),Notification.requestPermission().then((function(t){new Notification("ヒーロー情報が更新されました").onclick=function(){window.focus(),this.close()}}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.postMessage("start"),e.next=25;break;case 19:if(e.prev=19,e.t0=e.catch(1),!(e.t0 instanceof DOMException)){e.next=24;break}e.next=25;break;case 24:throw e.t0;case 25:case"end":return e.stop()}}),e,null,[[1,19]])})))()},watchEnd:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.commit,o.postMessage("stop");case 2:case"end":return e.stop()}}),e)})))()}}},83:function(t,e,n){"use strict";var r={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(n(357),n(94)),c=n(135),f=n.n(c),d=n(469),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[404===t.error.statusCode?n("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):n("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),n("p",[t._v("ステータスコード："+t._s(t.error.statusCode))]),t._v(" "),n("p",[t._v("メッセージ："+t._s(t.error.message))]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"b2edf2c6",null);e.a=component.exports;f()(component,{VApp:d.a})},96:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(26),o=n(27),c=function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,null,[{key:"isDev",value:function(){return!1}},{key:"getAPIServerURL",value:function(){return t.isDev()?"http://localhost:38080":"https://service-4taku-api-4taku-direboar.cloud.okteto.net"}}]),t}()}},[[310,22,7,23]]]);